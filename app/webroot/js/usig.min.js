$.extendIf=function(b,d){if(b&&d){for(var a in d){if(typeof b[a]=="undefined"){b[a]=d[a]}}}return b};if(typeof(Ext)=="undefined"){$.extend(Function.prototype,{createCallback:function(){var a=arguments;var b=this;return function(){return b.apply(window,a)}},createDelegate:function(c,b,a){var d=this;return function(){var f=b||arguments;if(a===true){f=Array.prototype.slice.call(arguments,0);f=f.concat(b)}else{if(typeof a=="number"){f=Array.prototype.slice.call(arguments,0);var e=[a,0].concat(b);Array.prototype.splice.apply(f,e)}}return d.apply(c||window,f)}},defer:function(c,e,b,a){var d=this.createDelegate(e,b,a);if(c){return setTimeout(d,c)}d();return 0},createSequence:function(b,a){if(typeof b!="function"){return this}var c=this;return function(){var d=c.apply(this||window,arguments);b.apply(a||this||window,arguments);return d}},createInterceptor:function(b,a){if(typeof b!="function"){return this}var c=this;return function(){b.target=this;b.method=c;if(b.apply(a||this||window,arguments)===false){return}return c.apply(this||window,arguments)}}});$.extendIf(String,{escape:function(a){return a.replace(/('|\\)/g,"\\$1")},leftPad:function(d,b,c){var a=new String(d);if(!c){c=" "}while(a.length<b){a=c+a}return a.toString()},format:function(b){var a=Array.prototype.slice.call(arguments,1);return b.replace(/\{(\d+)\}/g,function(c,d){return a[d]})}})}String.prototype.isInteger=function(){return !isNaN(parseInt(this))};String.prototype.isFloat=function(){return !isNaN(parseFloat(this))};String.prototype.toggle=function(b,a){return this==b?a:b};String.prototype.trim=function(){var a=/^\s+|\s+$/g;return function(){return this.replace(a,"")}}();String.prototype.translate=function(d,c){if(!(d.length&&c.length)||d.length!=c.length){return this}var b=this;for(var a=0;a<d.length;a++){if(typeof(d)=="string"){b=b.replace(new RegExp(d.charAt(a),"g"),c.charAt(a))}else{b=b.replace(new RegExp(d[a],"g"),c[a])}}return b};String.prototype.isDigit=function(){return/^\d+$/.test(this)};String.prototype.removeWords=function(e){var d=this.split(" ");var c=new Array();for(var b=0;b<d.length;b++){c.push(d[b]);for(var a=0;a<e.length;a++){if(c[b]==e[a]){c.pop();break}}}return c.join(" ")};$.extendIf(Number.prototype,{constrain:function(b,a){return Math.min(Math.max(this,b),a)},isInteger:function(){return !isNaN(parseInt(this))},isFloat:function(){return !isNaN(parseFloat(this))}});$.extendIf(Array.prototype,{indexOf:function(c){for(var b=0,a=this.length;b<a;b++){if(this[b]==c){return b}}return -1},removeObject:function(b){var a=this.indexOf(b);if(a!=-1){this.splice(a,1)}return this},binarySearch:function binarySearch(f,b){var a=0,e=this.length-1,c,d;while(a<=e){c=parseInt((a+e)/2,10);d=b(this[c],f);if(d<0){a=c+1;continue}if(d>0){e=c-1;continue}return c}return -1},inject:function(c,b){for(var a=0;a<this.length;a++){c=b(c,this[a],a)}return c},map:function(d,c){var a=new Array(this.length);for(var b=0,e=this.length;b<e;b++){if(b in this){a[b]=d.call(c,this[b],b,this)}}return a}});Date.prototype.getElapsed=function(a){return Math.abs((a||new Date()).getTime()-this.getTime())};if(typeof(usig)=="undefined"){usig={}}usig.debug=function(a){if(window.console&&window.console.log){window.console.log(a)}};usig.loadJs=function(a){var b=document.createElement("script");b.setAttribute("type","text/javascript");b.setAttribute("src",a);if(typeof b!="undefined"){document.getElementsByTagName("head")[0].appendChild(b)}};usig.loadCss=function(a){var b=document.createElement("link");b.setAttribute("rel","stylesheet");b.setAttribute("type","text/css");b.setAttribute("href",a);if(typeof b!="undefined"){document.getElementsByTagName("head")[0].appendChild(b)}};usig.removeJs=function(a){var c=document.getElementsByTagName("script");for(var b=c.length;b>=0;b--){if(c[b]&&c[b].getAttribute("src")!=null&&c[b].getAttribute("src").indexOf(a)!=-1){c[b].parentNode.removeChild(c[b])}}};usig.removeCss=function(a){var c=document.getElementsByTagName("link");for(var b=c.length;b>=0;b--){if(c[b]&&c[b].getAttribute("href")!=null&&c[b].getAttribute("href").indexOf(a)!=-1){c[b].parentNode.removeChild(c[b])}}};usig.Animator=function(c,d,e,f){var b=0;function a(){if(c.length>b){d(c[b]);b++;setTimeout(a,e)}else{if(typeof(f)=="function"){f()}}}this.stop=function(){b=c.length+1};a()};if(typeof(usig)=="undefined"){usig={}}usig.Punto=function(b,a){this.x=b;this.y=a;this.getX=function(){return this.x};this.getY=function(){return this.y};this.toJson=function(){return'{ "x":'+this.x+', "y": '+this.y+" }"};this.toString=function(){return"("+this.x+", "+this.y+")"}};usig.Punto.fromWkt=function(a){a=a.replace("POINT (","").replace(")","");var b=a.split(" ");return new usig.Punto(b[0],b[1])};usig.Punto.fromPunto=function(a){return new usig.Punto(a.getX(),a.getY())};(function(d){var b=function(n){return n!==undefined&&n!==null},m=function(p,n,o){b(p)&&p.apply(n,o)},e=function(n){setTimeout(n,0)},f="",a="&",k="?",l="success",g="error",i=d("head"),h={},c={callback:"C",url:location.href},j=function(s){s=d.extend({},c,s);var r=s.beforeSend,A=0;s.abort=function(){A=1};if(b(r)&&(r(s,s)===false||A)){return s}var q=s.success,o=s.complete,v=s.error,C=s.dataFilter,G=s.callbackParameter,w=s.callback,D=s.cache,n=s.pageCache,t=s.url,I=s.data,x=s.timeout,z,H,F,E;t=b(t)?t:f;I=b(I)?((typeof I)=="string"?I:d.param(I)):f;b(G)&&(I+=(I==f?f:a)+escape(G)+"=?");!D&&!n&&(I+=(I==f?f:a)+"_"+(new Date()).getTime()+"=");z=t.split(k);if(I!=f){H=I.split(k);E=z.length-1;E&&(z[E]+=a+H.shift());z=z.concat(H)}F=z.length-2;F&&(z[F]+=w+z.pop());var p=z.join(k),B=function(J){b(C)&&(J=C.apply(s,[J]));m(q,s,[J,l]);m(o,s,[s,l])},y=function(J){m(v,s,[s,J]);m(o,s,[s,J])},u=h[p];if(n&&b(u)){e(function(){b(u.s)?B(u.s):y(g)});return s}e(function(){if(A){return}var J=d("<iframe />").appendTo(i),L=J[0],N=L.contentWindow||L.contentDocument,P=N.document,K,Q,R=function(S,T){K();y(b(T)?T:g)},M=function(T){N[T]=undefined;try{delete N[T]}catch(S){}},O=w=="E"?"X":"E";if(!b(P)){P=N;N=P.getParentNode()}P.open();N[w]=function(S){A=1;n&&(h[p]={s:S});e(function(){K();B(S)})};N[O]=function(S){(!S||S=="complete")&&!A++&&e(R)};s.abort=K=function(){clearTimeout(Q);P.open();M(O);M(w);P.write(f);P.close();J.remove()};P.write(['<html><head><script src="',p,'" onload="',O,'()" onreadystatechange="',O,'(this.readyState)"><\/script></head><body onload="',O,'()"></body></html>'].join(f));P.close();x>0&&(Q=setTimeout(function(){!A&&R(f,"timeout")},x))});return s};j.setup=function(n){d.extend(c,n)};d.jsonp=j})(jQuery);if(!this.JSON){this.JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){k=rep[i];if(typeof k==="string"){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());if(typeof(usig)=="undefined"){usig={}}usig.InputController=function(c,b){var f=document.getElementById(c);var a="";var e=$.extend({},usig.InputController.defaults,b);var g=function(i){var h=(window.event)?window.event.keyCode:i.keyCode;if(i.type!="blur"&&i.type!="focus"&&typeof(e.onKeyUp)=="function"){e.onKeyUp(h,f.value)}if(i.type!="blur"&&i.type!="focus"&&f.value!=a&&typeof(e.onChange)=="function"){a=f.value;e.onChange(f.value)}if(i.type=="blur"&&typeof(e.onBlur)=="function"){e.onBlur()}if(i.type=="focus"&&typeof(e.onFocus)=="function"){e.onFocus()}};var d=g.createDelegate(this);this.unbind=function(){$(f).unbind(e.events,d)};this.bind=function(){$(f).bind(e.events,d);a=$(f).val()};this.setOptions=function(h){e=$.extend({},e,h)};this.setValue=function(h){f.value=h;a=h};this.setFocus=function(){$(f).focus()};if(!f){throw"InvalidField";return}else{this.bind()}};usig.InputController.defaults={events:"blur keyup input focus"};if(typeof(usig)=="undefined"){usig={}}usig.AutoCompleter=function(h,e,a){var b=document.getElementById(h),m=a,o=$.extend({},usig.AutoCompleter.defaults,e),p=null,t=null,q=null,z=null,i=0,k=true,y=null,g=[],n=[],j=[];b.setAttribute("autocomplete","off");this.unbind=function(){p.unbind();if(t){clearTimeout(t)}if(q){clearTimeout(q)}if(z){clearTimeout(z);o.inventario.abort()}m.hide()};this.bind=function(){p.bind()};this.destroy=function(){this.unbind();m.remove();delete p;for(var B=0;B<j.length;B++){delete j[B]}};this.setViewControl=function(B){m=B;m.onSelection(x.createDelegate(this))};this.setOptions=function(B){o=$.extend({},o,B);m.setOptions(B);o.inventario.setOptions({debug:o.debug});o.geoCoder.setOptions({debug:o.debug});o.normalizadorDirecciones.setOptions({aceptarCallesSinAlturas:o.acceptSN})};this.changeSkin=function(B){m.changeSkin(B)};this.getOptions=function(){return o};this.selectOption=function(B){return m.selectOption(B)};this.ready=function(){return o.normalizadorDirecciones.listo()};function v(C){if(o.useInventario){var B=o.maxOptions;if(g&&g.length){B=o.maxOptions-g.length}if(B>0){n=[];o.inventario.buscar(C,l.createDelegate(this,[C],1),function(){},{limit:B});z=u.defer(o.serverTimeout,this,[C]);if(typeof(o.afterServerRequest)=="function"){o.afterServerRequest()}}else{}}}function A(C){try{y=null;g=o.normalizadorDirecciones.normalizar(C);m.show(g);if(!k){m.hide()}if(typeof(o.afterSuggest)=="function"){o.afterSuggest()}}catch(B){g=null;y=B;f()}}function u(B){if(typeof(o.inventario.abort)=="function"){d();o.inventario.buscar(B);i++;if(i<o.maxRetries){z=u.defer(o.serverTimeout,this,[B])}else{i=0}if(typeof(o.afterRetry)=="function"){o.afterRetry()}}}function l(C,B){clearTimeout(z);if(C instanceof Array&&C.length>0){n=C;if(y){m.update(B)}m.show(C,true);if(!k){m.hide()}if(typeof(o.afterSuggest)=="function"){o.afterSuggest()}}else{if(y!=null){f()}}if(typeof(o.afterServerResponse)=="function"){o.afterServerResponse()}}function f(){if(!(y instanceof usig.ErrorEnCargaDelCallejero)){try{m.showMessage(y.getErrorMessage())}catch(B){m.showMessage(o.texts.nothingFound)}}if(typeof(o.afterSuggest)=="function"){o.afterSuggest()}}function c(){if(z){clearTimeout(z);d()}}function d(){o.inventario.abort();if(typeof(o.afterAbort)=="function"){o.afterAbort()}}function x(C){c();var D=C.toString()+((C instanceof usig.Calle)?" ":"");p.setValue(D);if(typeof(o.afterSelection)=="function"){o.afterSelection(C)}if(typeof(o.afterGeoCoding)=="function"){if(C instanceof usig.Direccion){if(typeof(o.beforeGeoCoding)=="function"){o.beforeGeoCoding()}try{o.geoCoder.geoCodificarDireccion(C,o.afterGeoCoding,(function(E){}).createDelegate(this))}catch(B){}}else{if(C instanceof usig.inventario.Objeto){if(typeof(o.beforeGeoCoding)=="function"){o.beforeGeoCoding()}o.inventario.getObjeto(C,s.createDelegate(this),(function(E){}).createDelegate(this))}}}if(C instanceof usig.Calle){p.setFocus()}}function s(B){if(B.direccionAsociada){o.afterGeoCoding(B.direccionAsociada.getCoordenadas())}else{if(B.ubicacion){o.afterGeoCoding(B.ubicacion.getCentroide())}}}function w(B,D,C){if(B instanceof usig.inventario.Objeto){return'<li><a href="#" class="acv_op" name="'+D+'"><span class="tl"/><span class="tr"/><span>'+C(B.toString())+'</span></a><span class="clase">('+B.clase.getNombre()+")</span></li>"}else{if(B instanceof usig.Calle){return'<li><a href="#" class="acv_op" name="'+D+'"><span class="tl"/><span class="tr"/><span>'+C(B.toString())+"</span></a></li>"}else{return'<li><a href="#" class="acv_op" name="'+D+'"><span class="tl"/><span class="tr"/><span>'+C(B.toString())+"</span></a></li>"}}}try{p=new usig.InputController(h,{onKeyUp:function(C,B){m.keyUp(C)},onChange:function(C){try{c();m.update(C)}catch(B){throw (B)}if(t){clearTimeout(t)}if(q){clearTimeout(q)}if(C.length>=o.minTextLength){t=A.defer(o.inputPause,this,[C]);q=v.defer(o.inputPauseBeforeServerSearch,this,[C])}},onBlur:function(){k=false;m.hide.defer(300)},onFocus:function(){k=true},debug:o.debug})}catch(r){throw (r)}if(!o.normalizadorDirecciones){o.normalizadorDirecciones=new usig.NormalizadorDirecciones({aceptarCallesSinAlturas:o.acceptSN,onReady:o.onReady});j.push(o.normalizadorDirecciones)}if(!o.inventario&&o.useInventario){o.inventario=new usig.Inventario({debug:o.debug});j.push(o.inventario)}if(!o.geoCoder){o.geoCoder=new usig.GeoCoder({debug:o.debug});j.push(o.geoCoder)}if(!m){m=new usig.AutoCompleterView(h,{rootUrl:o.rootUrl,debug:o.debug,skin:o.skin,autoSelect:o.autoSelect,autoHideTimeout:o.autoHideTimeout,optionsFormatter:w});j.push(m)}m.onSelection(x.createDelegate(this))};usig.AutoCompleter.defaults={minTextLength:3,inputPause:10,inputPauseBeforeServerSearch:500,serverTimeout:5000,useInventario:true,autoSelect:true,autoHideTimeout:5000,acceptSN:true,maxRetries:5,maxOptions:10,rootUrl:"http://servicios.usig.buenosaires.gov.ar/usig-js/2.0/",skin:"usig",debug:false,texts:{nothingFound:"No se hallaron resultados coincidentes con su b&uacute;squeda."}};if(typeof(usig)=="undefined"){usig={}}usig.AutoCompleterView=function(f,b){var a=document.getElementById(f),g=a.value,l=$.extend({},usig.AutoCompleterView.defaults,b),n="usig_acv_"+f,k=null,e=-1,i=0,s=null,d={},t={arrUp:38,arrDn:40,enter:13,esc:27};function h(){clearTimeout(k)}function m(){h();k=o.defer(l.autoHideTimeout,this)}function o(){s.fadeOut("slow")}function p(u){h();if(s){$("#"+n+" div.content").html(u);s.show();e=-1}else{s=$('<div id="'+n+'" class="usig_acv">						<div class="header">							<div class="corner"/>							<div class="bar"/>						</div>						<div class="content">'+u+'</div>						<div class="footer">							<div class="corner"/>							<div class="bar"/>						</div>					</div>');var v=$(a).offset();s.css({position:"absolute",left:v.left+"px",top:(v.top+a.offsetHeight+parseInt(l.offsetY))+"px",width:a.offsetWidth,zIndex:l.zIndex});$("body").append(s);s.mouseover(h.createDelegate(this));s.mouseout(m.createDelegate(this));e=-1}k=o.defer(l.autoHideTimeout,this)}function c(u){if(s){e=u;$("ul.options li.highlight",s).removeClass("highlight");if(typeof(u)=="string"){$('ul.options li:has(a[name="'+u+'"])',s).addClass("highlight")}else{$("ul.options li:has(a)",s).slice(u,u+1).addClass("highlight")}}}function j(u){var B=new u.constructor(u);B.marked=Array();var A=g.split(" ");for(var x=0;x<A.length;x++){var z=B.toLowerCase().indexOf(A[x].toLowerCase());if(z<0){var z=B.toLowerCase().indexOf(A[x].translate("·ÈÌÛ˙¸¡…Õ”⁄‹‡ËÏÚ˘¿»Ã“Ÿ","aeiouuAEIOUUaeiouAEIOU").toLowerCase())}if(z>=0){for(var y=0;y<A[x].length;y++){B.marked[z+y]=true}}}var w="";var v=false;for(var x=0;x<B.length;x++){if(B.marked[x]&&!v){w=w+"<em>"+B.substring(x,x+1);v=true}else{if((B.marked[x]&&v)||(!B.marked[x]&&!v)){w=w+B.substring(x,x+1)}else{w=w+"</em>"+B.substring(x,x+1);v=false}}}if(v){w=w+"</em>"}return w}function r(u){if(typeof(l.onSelection)=="function"){h();o();l.onSelection(u)}}function q(){h();e=-1;i=0;d={}}this.setOptions=function(u){l=$.extend({},l,u)};this.update=function(u){if(u==""&&s){s.hide()}g=u;q()};this.getOptions=function(){return l};this.show=function(v,u){var x="";var y=isNaN(parseInt(u))?0:parseInt(u);if(u!=undefined){if(y>0){$("ul.options li",s).slice(y).remove();i=$("ul.options li a",s).length}}else{i=0;d={}}var w=j;$.each(v,function(z,A){if(i>=l.maxOptions){return false}if(typeof(A)=="string"){x+='<li class="message">'+A+"</li>"}else{if(typeof(l.optionsFormatter)=="function"){x+=l.optionsFormatter(A,n+i,w);d[n+i]=A;i++}else{if(typeof(A.toString)=="function"){x+='<li><a href="#" class="acv_op" name="'+n+i+'"><span class="tl"/><span class="tr"/><span>'+w(A.toString())+"</span></a></li>";d[n+i]=A;i++}}}});if((u===true||!isNaN(parseInt(u)))&&s&&$("ul.options li a",s).length>0){$("ul.options",s).append(x)}else{p('<ul class="options">'+x+"</ul>")}$("ul.options li a",s).mouseover((function(A,z){z(A.target.name)}).createDelegate(this,[c],1));$("ul.options li a",s).click((function(A){var B=A.target?A.target:A.srcElement;var z=$(B).parents("a.acv_op").attr("name");r(d[z]);A.preventDefault()}).createDelegate(this));if(l.autoSelect&&i==1){e=0;c(e)}};this.showMessage=function(u){p('<div class="message">'+u+"</div>")};this.keyUp=function(u){if(e==undefined){e=-1}if((u==t.arrDn||u==t.arrUp)&&i>0){if(s.css("display")!="block"){s.show()}else{m();e=u==t.arrDn?(e+1).constrain(0,i-1):(e-1).constrain(0,i-1);c(e)}}if(t.enter==u&&(e>=0||i==1)){if(e>=0){r(d[n+e])}else{r(d[n+"0"])}}if(t.esc==u){h();o()}};this.remove=function(){h();if(s){s.remove()}};this.onSelection=function(u){if(typeof(u)=="function"){l.onSelection=u}};this.selectOption=function(u){if(i>u){if(s.css("display")!="block"){s.show()}c(u);r(d[n+e]);return true}return false};this.changeSkin=function(u){usig.removeCss(l.rootUrl+"css/usig.AutoCompleterView."+l.skin+".css");l.skin=u;usig.loadCss(l.rootUrl+"css/usig.AutoCompleterView."+l.skin+".css")};this.hide=function(){h();if(s){s.hide()}};usig.loadCss(l.rootUrl+"css/usig.AutoCompleterView."+l.skin+".css")};usig.AutoCompleterView.defaults={maxOptions:10,debug:false,offsetY:-5,zIndex:10000,autoHideTimeout:5000,autoSelect:true,rootUrl:"http://servicios.usig.buenosaires.gov.ar/usig-js/2.0/",skin:"usig"};if(typeof(usig)=="undefined"){usig={}}usig.GeoCoder=function(b){var c=$.extend({},usig.GeoCoder.defaults,b),a=["interpolacion","puertas","centroide"];function e(g,h,f){$.ajax({type:"GET",url:c.server,data:g,dataType:"jsonp",success:function(i){if(typeof(i)!="string"){h(new usig.Punto(i.x,i.y))}else{h(i)}},error:f})}function d(f){if(f!=undefined){if(a.indexOf(f)>=0){return f}}else{if(c.metodo!=undefined){return c.metodo}}return undefined}this.setOptions=function(f){c=$.extend({},c,f)};this.geoCodificarDireccion=function(g,i,f,h){if(!(g instanceof usig.Direccion)){throw ("dir debe ser una instancia de usig.Direccion");return}if(g.getTipo()==usig.Direccion.CALLE_ALTURA){this.geoCodificarCodigoDeCalleAltura(g.getCalle().codigo,g.getAltura(),i,f,h)}else{this.geoCodificar2CodigosDeCalle(g.getCalle().codigo,g.getCalleCruce().codigo,i,f)}};this.geoCodificarCalleAltura=function(i,k,j,f,g){if(!k.isInteger()){throw ("altura tiene que ser un entero");return}var h={cod_calle:i,altura:k};g=d(g);if(g!=undefined){h.metodo=g}e(h,j,f)};this.geoCodificarCodigoDeCalleAltura=function(h,k,j,f,g){if(!h.isInteger()){throw ("codCalle tiene que ser un entero");return}if(!k.isInteger()){throw ("altura tiene que ser un entero");return}var i={cod_calle:h,altura:k};g=d(g);if(g!=undefined){i.metodo=g}e(i,j,f)};this.geoCodificarCalleYCalle=function(g,f,j,h){var i={cod_calle1:g,cod_calle2:f};e(i,j,h)};this.geoCodificar2CodigosDeCalle=function(j,h,i,f){if(!j.isInteger()){throw ("codCalle1 tiene que ser un entero");return}if(!h.isInteger()){throw ("codCalle2 tiene que ser un entero");return}var g={cod_calle1:j,cod_calle2:h};e(g,i,f)}};usig.GeoCoder.defaults={debug:false,server:"http://usig.buenosaires.gov.ar/servicios/GeoCoder",metodo:undefined};if(typeof(usig)=="undefined"){usig={}}usig.Inventario=function(b){var e=$.extend({},usig.Inventario.defaults,b),a=null;jQuery.jsonp.setup({callbackParameter:"callback",pageCache:true,dataFilter:function(g){return JSON.parse(JSON.stringify(g))}});function f(h,i,j,g){a=$.jsonp({url:h,data:i,success:j,error:g})}function c(g,j){var i={},h=[];$.each(g.clasesEncontradas,function(k,l){i[l.id]=new usig.inventario.Clase(l.id,l.nombre,l.nombreId,l.nombreNorm)});$.each(g.instancias,function(k,l){h.push(new usig.inventario.Objeto(l,i[l.claseId]))});if(typeof(j)=="function"){j(h)}}function d(g,i,h){if(h instanceof usig.inventario.Objeto){h.fill(g);i(h)}else{i(new usig.inventario.Objeto(g))}}this.setOptions=function(g){e=$.extend({},e,g)};this.getCategorias=function(h,g){f(e.server+"getCategorias/",{},h,g)};this.getParcelaPorDir=function(h,i,g){f(e.server+"getParcela/",{cod_calle:h.cod,altura:h.alt},i,g)};this.buscar=function(m,l,h,g){var i=$.extend({},usig.Inventario.defaults.searchOptions,g),j={start:i.start,limit:i.limit,texto:m,tipo:i.tipoBusqueda};if(i.categoria!=undefined){j.categoria=i.categoria}if(i.clase!=undefined){j.clase=i.clase}if(i.bbox){j.bbox=[i.extent.left,i.extent.bottom,i.extent.right,i.extent.top].join(",")}var k=c.createDelegate(this,[l],1);if(i.returnRawData){k=l}f(e.server+"buscar/",j,k,h)};this.getObjeto=function(h,i,g){var j=parseInt(h)?parseInt(h):parseInt(h.id);if(j>0){f(e.server+"getObjectContent/",{id:j},d.createDelegate(this,[i,h],1),g)}};this.getGeom=function(g,i,h){f(e.server+"getGeometria/",{id:g},i,h)};this.abort=function(){if(a){a.abort();a=null}}};usig.Inventario.defaults={debug:false,server:"http://inventario.usig.buenosaires.gob.ar/publico/",searchOptions:{start:0,limit:20,tipoBusqueda:"ranking",categoria:undefined,clase:undefined,bbox:false,extent:undefined,returnRawData:false}};if(typeof(usig)=="undefined"){usig={}}if(typeof(usig.inventario)=="undefined"){usig.inventario={}}usig.inventario.Objeto=function(a,b){this.id=0;this.nombre=usig.inventario.Objeto.defaults.texts.noName;this.ubicacion=null;this.clase=b;this.direccionAsociada=null;this.fechaAlta=null;this.fechaUltimaModificacion=null;this.datos={};this.rawData={};this.fill=function(c){if(c.id){this.id=c.id}if(c.nombre){this.nombre=c.nombre}if(c.ubicacion){this.ubicacion=new usig.inventario.Ubicacion(c.ubicacion)}if(c.fechaAlta){this.fechaAlta=new Date(c.fechaAlta)}if(c.fechaUltimaModificacion){this.fechaUltimaModificacion=new Date(c.fechaUltimaModificacion)}if(c.direccionAsociada){this.direccionAsociada=usig.Direccion.fromObj(c.direccionAsociada)}if(c.contenido){var d=this.datos;$.each(c.contenido,function(f,e){d[e.nombreId]={alias:e.nombre,valor:e.valor,pos:e.posicion}})}};this.toString=function(){return this.nombre};this.getRawData=function(){return this.rawData};this.clone=function(){var c=new usig.inventario.Objeto(a,b);return $.extend(true,c,this)};this.fill(a);this.rawData=$.extend(this.rawData,a)};usig.inventario.Objeto.defaults={texts:{noName:"Sin Nombre"}};if(typeof(usig)=="undefined"){usig={}}if(typeof(usig.inventario)=="undefined"){usig.inventario={}}usig.inventario.Clase=function(d,c,b,a){this.getId=function(){return d};this.getNombre=function(){return c};this.getNombreId=function(){return b};this.getNombreNormalizado=function(){return a}};if(typeof(usig)=="undefined"){usig={}}if(typeof(usig.inventario)=="undefined"){usig.inventario={}}usig.inventario.Ubicacion=function(a){var b=null;if(a instanceof usig.Punto){b=a}else{if(a.centroide!=undefined){b=usig.Punto.fromWkt(a.centroide)}}this.getCentroide=function(){return b};this.getTipo=function(){return a.tipo}};$.extendIf=function(d,e){if(d&&e){for(var b in e){if(typeof d[b]=="undefined"){d[b]=e[b]}}}return d};if(typeof(Ext)=="undefined"){$.extend(Function.prototype,{createCallback:function(){var b=arguments;var c=this;return function(){return c.apply(window,b)}},createDelegate:function(d,c,b){var e=this;return function(){var g=c||arguments;if(b===true){g=Array.prototype.slice.call(arguments,0);g=g.concat(c)}else{if(typeof b=="number"){g=Array.prototype.slice.call(arguments,0);var f=[b,0].concat(c);Array.prototype.splice.apply(g,f)}}return e.apply(d||window,g)}},defer:function(d,f,c,b){var e=this.createDelegate(f,c,b);if(d){return setTimeout(e,d)}e();return 0},createSequence:function(c,b){if(typeof c!="function"){return this}var d=this;return function(){var e=d.apply(this||window,arguments);c.apply(b||this||window,arguments);return e}},createInterceptor:function(c,b){if(typeof c!="function"){return this}var d=this;return function(){c.target=this;c.method=d;if(c.apply(b||this||window,arguments)===false){return}return d.apply(this||window,arguments)}}});$.extendIf(String,{escape:function(b){return b.replace(/('|\\)/g,"\\$1")},leftPad:function(e,c,d){var b=new String(e);if(!d){d=" "}while(b.length<c){b=d+b}return b.toString()},format:function(c){var b=Array.prototype.slice.call(arguments,1);return c.replace(/\{(\d+)\}/g,function(d,e){return b[e]})}})}String.prototype.isInteger=function(){return !isNaN(parseInt(this))};String.prototype.isFloat=function(){return !isNaN(parseFloat(this))};String.prototype.toggle=function(c,b){return this==c?b:c};String.prototype.trim=function(){var b=/^\s+|\s+$/g;return function(){return this.replace(b,"")}}();String.prototype.translate=function(e,d){if(!(e.length&&d.length)||e.length!=d.length){return this}var c=this;for(var b=0;b<e.length;b++){if(typeof(e)=="string"){c=c.replace(new RegExp(e.charAt(b),"g"),d.charAt(b))}else{c=c.replace(new RegExp(e[b],"g"),d[b])}}return c};String.prototype.isDigit=function(){return/^\d+$/.test(this)};String.prototype.removeWords=function(f){var e=this.split(" ");var d=new Array();for(var c=0;c<e.length;c++){d.push(e[c]);for(var b=0;b<f.length;b++){if(d[c]==f[b]){d.pop();break}}}return d.join(" ")};$.extendIf(Number.prototype,{constrain:function(c,b){return Math.min(Math.max(this,c),b)},isInteger:function(){return !isNaN(parseInt(this))},isFloat:function(){return !isNaN(parseFloat(this))}});$.extendIf(Array.prototype,{indexOf:function(d){for(var c=0,b=this.length;c<b;c++){if(this[c]==d){return c}}return -1},removeObject:function(c){var b=this.indexOf(c);if(b!=-1){this.splice(b,1)}return this},binarySearch:function binarySearch(g,c){var b=0,f=this.length-1,d,e;while(b<=f){d=parseInt((b+f)/2,10);e=c(this[d],g);if(e<0){b=d+1;continue}if(e>0){f=d-1;continue}return d}return -1},inject:function(d,c){for(var b=0;b<this.length;b++){d=c(d,this[b],b)}return d},map:function(e,d){var b=new Array(this.length);for(var c=0,f=this.length;c<f;c++){if(c in this){b[c]=e.call(d,this[c],c,this)}}return b}});Date.prototype.getElapsed=function(b){return Math.abs((b||new Date()).getTime()-this.getTime())};if(typeof(usig)=="undefined"){usig={}}usig.debug=function(b){if(window.console&&window.console.log){window.console.log(b)}};usig.loadJs=function(b){var c=document.createElement("script");c.setAttribute("type","text/javascript");c.setAttribute("src",b);if(typeof c!="undefined"){document.getElementsByTagName("head")[0].appendChild(c)}};usig.loadCss=function(b){var c=document.createElement("link");c.setAttribute("rel","stylesheet");c.setAttribute("type","text/css");c.setAttribute("href",b);if(typeof c!="undefined"){document.getElementsByTagName("head")[0].appendChild(c)}};usig.removeJs=function(b){var d=document.getElementsByTagName("script");for(var c=d.length;c>=0;c--){if(d[c]&&d[c].getAttribute("src")!=null&&d[c].getAttribute("src").indexOf(b)!=-1){d[c].parentNode.removeChild(d[c])}}};usig.removeCss=function(b){var d=document.getElementsByTagName("link");for(var c=d.length;c>=0;c--){if(d[c]&&d[c].getAttribute("href")!=null&&d[c].getAttribute("href").indexOf(b)!=-1){d[c].parentNode.removeChild(d[c])}}};usig.Animator=function(d,e,f,g){var c=0;function b(){if(d.length>c){e(d[c]);c++;setTimeout(b,f)}else{if(typeof(g)=="function"){g()}}}this.stop=function(){c=d.length+1};b()};if(typeof(usig)=="undefined"){usig={}}usig.Calle=function(b,c,e,d){this.codigo=b;this.nombre=c;this.alturaValida=function(g){if(e instanceof Array){if(e.length==0){throw (new usig.ErrorCalleSinAlturas(this.nombre));return false}var f=false;for(a in e){f=f||((parseInt(e[a][0])<=parseInt(g))&&(parseInt(e[a][1])>=parseInt(g)))}return f}};this.getTramos=function(){return e};this.toString=function(){return this.nombre};this.seCruzaCon=function(f){if(d){return d.indexOf(f.codigo)>=0}}};if(typeof(usig)=="undefined"){usig={}}usig.Direccion=function(b,f){var e=null;var i=null;var h=0;var d=null;var g="";var c=null;if(b instanceof usig.Calle){e=b}else{return null}if(f instanceof usig.Calle){i=f;d=usig.Direccion.CALLE_Y_CALLE}else{if(!isNaN(parseInt(f))){d=usig.Direccion.CALLE_ALTURA;h=parseInt(f)}else{return null}}this.getCalle=function(){return e};this.getCalleCruce=function(){if(d==usig.Direccion.CALLE_Y_CALLE){return i}else{return null}};this.getAltura=function(){return h};this.getTipo=function(){return d};this.toString=function(){if(d==usig.Direccion.CALLE_ALTURA){return e.toString()+" "+(h>0?h:"S/N")}else{var j=i.toString();var k=j.match(/^(I|Hi|HI).*/)?" e ":" y ";return e.toString()+k+j}};this.setCoordenadas=function(j){c=usig.Punto.fromPunto(j)};this.setSmp=function(j){g=j};this.getCoordenadas=function(){return c};this.getSmp=function(){return g};this.clone=function(){var j=new usig.Direccion(e,f);return $.extend(true,j,this)}};usig.Direccion.CALLE_ALTURA=0;usig.Direccion.CALLE_Y_CALLE=1;usig.Direccion.fromObj=function(d){var c=new usig.Calle(d.cod_calle,d.calle);var b=null;if(d.cod_calle2!=null){b=new usig.Direccion(c,new usig.Calle(d.cod_calle2,d.calle2))}else{b=new usig.Direccion(c,d.altura)}if(d.smp!=undefined&&d.smp!=null){b.setSmp(d.smp)}if(d.coordenadas!=undefined&&d.coordenadas!=null){b.setCoordenadas(usig.Punto.fromWkt(d.coordenadas))}return b};if(typeof(usig)=="undefined"){usig={}}if(typeof(usig.data)=="undefined"){usig.data={}}usig.Callejero=function(j){var h=this;var b=$.extend({},usig.Callejero.defaults,j);var f=false;this.matcheaCalle=function(o,k){var m=[];var l=o.replace(/"/g,"").translate("·ÈÌÛ˙¸¡…Õ”⁄‹‡ËÏÚ˘¿»Ã“Ÿ","aeiouuAEIOUUaeiouAEIOU").toUpperCase().trim();var n=l.split(" ");wordsRE=n.map(function(q){return new RegExp("^"+q+"| "+q,"gi")});if(this.listo()){for(var p=0;p<usig.data.Callejero.length;p++){if(c(wordsRE,usig.data.Callejero[p])){m.push(new usig.Calle(usig.data.Callejero[p][0],usig.data.Callejero[p][1],usig.data.Callejero[p][3],usig.data.Callejero[p][4]));if(!isNaN(parseInt(k))&&m.length>=parseInt(k)){break}}}if(usig.data.Callejero[0].length<5&&!f){e()}}else{d();throw (new usig.ErrorEnCargaDelCallejero())}return m};this.tieneTramosComoAv=function(l){var k=usig.data.Callejero.binarySearch(l.codigo,function(n,m){return n[0]-m});return l.codigo!=0&&(usig.data.Callejero[k-1][0]==l.codigo||usig.data.Callejero[k+1][0]==l.codigo)};this.listo=function(){return usig.data.Callejero&&usig.data.Callejero instanceof Array};function c(m,o){var l=true;for(var k=0;k<m.length;k++){var n=m[k];n.lastIndex=0;if(!n.test(o[2])){l=false;break}}return l}function i(l){f=false;if(l.length!=usig.data.Callejero.length){alert("Se produjo un error al cargar la informaciÛn de cruces de calles.");return}for(var k=0;k<usig.data.Callejero.length;k++){usig.data.Callejero[k].push(l[k])}}function g(k){usig.data.Callejero=k;f=false;if(typeof(b.onReady)=="function"){b.onReady()}}function e(){f=true;$.ajax({type:"GET",url:b.server,data:{full:1,cruces:1},dataType:"jsonp",success:i,error:function(){alert("Se produjo un error al intentar cargar la informaciÛn de calles.")}})}function d(){f=true;$.ajax({type:"GET",url:b.server,data:{},dataType:"jsonp",success:g,error:function(){alert("Se produjo un error al intentar cargar la informaciÛn de calles.")}})}if(!usig.data.Callejero&&!b.lazyDataLoad){d()}else{if(usig.data.Callejero){if(typeof(b.onReady)=="function"){b.onReady()}}}};usig.Callejero.defaults={server:"http://servicios.usig.buenosaires.gob.ar/callejero",lazyDataLoad:false};if(typeof(usig)=="undefined"){usig={}}usig.StringDireccion=function(d,c){this.tipo=usig.StringDireccion.INVALIDO;this.strCalles="";this.strAltura="";this.strInput=d.replace(/"/g,"").replace(/[\.,\(\)']/g," ").toUpperCase().trim();var h=/[sS][/\\][nN]/;function e(j,i){return j.isDigit()||(i&&h.test(j))}this.setearCalleAltura=function(){b=this.strInput.split(" ");this.maxWordLen=b.inject(0,function(l,j,k){return Math.max(j.trim().length,l)});var i=b.length;if(i>1&&e(b[i-1],c)){this.tipo=usig.StringDireccion.CALLE_ALTURA;this.strCalles=b.inject("",function(l,j,k){return k<(i-1)?(l!=""?l+" "+j:j):l});this.strAltura=b[i-1]}else{this.tipo=usig.StringDireccion.CALLE;this.strCalles=this.strInput}};if(this.strInput.length>0){var b=this.strInput.split(" Y ");if(b.length>=2){var g=f(this.strInput);b=g.split(" Y ");if(b.length>=2){this.tipo=usig.StringDireccion.CALLE_Y_CALLE;this.strCalles=[b[0].replace(" & "," Y "),b[1].replace(" & "," Y ")]}}b=this.strInput.split(" E ");if(b.length>=2){if(parseInt(b[b.length-1])!=b[b.length-1]){this.tipo=usig.StringDireccion.CALLE_Y_CALLE;this.strCalles=b}}if(this.tipo==usig.StringDireccion.INVALIDO){this.setearCalleAltura()}}else{this.tipo=usig.StringDireccion.INVALIDO}function f(i){return i.translate(["GELLY Y OBES","MENENDEZ Y PELAYO","OLAGUER Y FELIU","ORTEGA Y GASSET","PAULA Y RODRIGUEZ","PAZ Y FIGUEROA","PI Y MARGALL","RAMON Y CAJAL","TORRES Y TENORIO","TREINTA Y TRES"],["GELLY & OBES","MENENDEZ & PELAYO","OLAGUER & FELIU","ORTEGA & GASSET","PAULA & RODRIGUEZ","PAZ & FIGUEROA","PI & MARGALL","RAMON & CAJAL","TORRES & TENORIO","TREINTA & TRES"])}this.quitarAvsCalle=function(){var i=["AV","AVDA","AVENIDA"];if(this.tipo==usig.StringDireccion.CALLE_ALTURA){this.strCalles=this.strCalles.removeWords(i)}else{if(this.tipo==usig.StringDireccion.CALLE_Y_CALLE){this.strCalles[0]=this.strCalles[0].removeWords(i)}}};this.quitarAvsCalleCruce=function(){var i=["AV","AVDA","AVENIDA"];if(this.tipo==usig.StringDireccion.CALLE_Y_CALLE){this.strCalles[1]=this.strCalles[1].removeWords(i)}};this.quitarPasajes=function(){var i=["PJE","PSJE","PASAJE"];if(this.tipo==usig.StringDireccion.CALLE_ALTURA){this.strCalles=this.strCalles.removeWords(i)}else{if(this.tipo==usig.StringDireccion.CALLE_Y_CALLE){this.strCalles[0]=this.strCalles[0].removeWords(i);this.strCalles[1]=this.strCalles[1].removeWords(i)}}};this.esAlturaSN=function(i){return h.test(i)}};usig.StringDireccion.CALLE=0;usig.StringDireccion.CALLE_ALTURA=1;usig.StringDireccion.CALLE_Y_CALLE=2;usig.StringDireccion.INVALIDO=-1;if(typeof(usig)=="undefined"){usig={}}usig.ErrorCalleInexistente=function(b){this.toString=function(){return"Calle inexistente: "+b};this.getNombreCalle=function(){return b};this.getErrorMessage=function(){return usig.ErrorCalleInexistente.defaults.texts.message}};usig.ErrorCalleInexistente.defaults={texts:{message:"No pudo hallarse ninguna calle existente que coincidiera con su b&uacute;squeda. Por favor, revise el nombre ingresado y vuelva a intentarlo."}};if(typeof(usig)=="undefined"){usig={}}usig.ErrorCalleInexistenteAEsaAltura=function(c,b,d){this.getCalle=function(){return c};this.getMatchings=function(){return b};this.getAltura=function(){return d};this.toString=function(){return"La calle "+c+" no existe a la altura "+d};this.getErrorMessage=function(){var e=usig.ErrorCalleInexistenteAEsaAltura.defaults.texts.message+"<ul>";$.each(b,function(g,h){var f=h.getTramos();$.each(f,function(j,k){e+="<li>"+h.nombre+" "+k[0]+"-"+k[1]+"</li>"})});e+="</ul>";return e}};usig.ErrorCalleInexistenteAEsaAltura.defaults={texts:{message:"La altura indicada no es v&aacute;lida para la calle ingresada. A continuaci&oacute;n se muestran algunas opciones v&aacute;lidas halladas:"}};if(typeof(usig)=="undefined"){usig={}}usig.ErrorCruceInexistente=function(c,e,b,d){this.getCalle1=function(){return c};this.getCalle2=function(){return b};this.getMatchingsCalle1=function(){return e};this.getMatchingsCalle2=function(){return d};this.toString=function(){return"Cruce inexistente: "+c+" y "+b};this.getErrorMessage=function(){var f=usig.ErrorCruceInexistente.defaults.texts.message;f+="<br/>"+usig.ErrorCruceInexistente.defaults.texts.detalleCalle1+"<ul>";$.each(e,function(g,h){f+="<li>"+h.nombre+"</li>"});f+="</ul>";f+=usig.ErrorCruceInexistente.defaults.texts.detalleCalle2+"<ul>";$.each(d,function(g,h){f+="<li>"+h.nombre+"</li>"});f+="</ul>";return f}};usig.ErrorCruceInexistente.defaults={texts:{message:"El cruce de calles indicado no existe. A continuaci&oacute;n se muestran algunas calles que coinciden con su b&uacute;squeda.",detalleCalle1:"Algunas calles halladas que coinciden con la 1ra calle ingresada son:",detalleCalle2:"Algunas calles halladas que coinciden con la 2da calle ingresada son:"}};if(typeof(usig)=="undefined"){usig={}}usig.ErrorCalleSinAlturas=function(b){this.toString=function(){return usig.ErrorCalleSinAlturas.defaults.texts.message.replace("{calle}",b)};this.getNombreCalle=function(){return b};this.getErrorMessage=function(){return usig.ErrorCalleSinAlturas.defaults.texts.message.replace("{calle}",b)}};usig.ErrorCalleSinAlturas.defaults={texts:{message:"La calle {calle} no posee alturas oficiales. Utilice intersecciones para hallar direcciones v&aacute;lidas sobre esta calle o escriba S/N en lugar de la altura."}};if(typeof(usig)=="undefined"){usig={}}usig.ErrorEnCargaDelCallejero=function(){this.toString=function(){return"Callejero no disponible."};this.getErrorMessage=function(){return"El callejero no se encuentra cargado a˙n o se produjo un error al intentar cargarlo"}};if(typeof(usig)=="undefined"){usig={}}usig.NormalizadorDirecciones=function(e){var g=$.extend({},usig.NormalizadorDirecciones.defaults,e);var i=new usig.Callejero({lazyDataLoad:g.lazyDataLoad,onReady:g.onReady});this.normalizar=function(k,l){if(typeof(jQuery)=="undefined"){throw ("Error: Este componente requiere jQuery y no se encontro.");return[]}var j=new usig.StringDireccion(k,g.aceptarCallesSinAlturas);var c=[];switch(j.tipo){case usig.StringDireccion.CALLE:c=i.matcheaCalle(j.strCalles,l);break;case usig.StringDireccion.CALLE_ALTURA:c=h(j,l);break;case usig.StringDireccion.CALLE_Y_CALLE:c=f(j,l);if(c.length==0){j.setearCalleAltura();c=h(j,l)}break;case usig.StringDireccion.INVALIDO:c=[];break}if(c instanceof Array){if(c.length>0){return c}else{throw (new usig.ErrorCalleInexistente(k))}}else{return c}};this.listo=function(){return i.listo()};this.setOptions=function(c){g=$.extend({},g,c)};function h(l,m){var c=i.matcheaCalle(l.strCalles);try{var k=b(l,c,m)}catch(j){throw (j)}if(k.length==0&&c.length>0){l.quitarAvsCalle();c=i.matcheaCalle(l.strCalles);try{k=b(l,c,m)}catch(j){throw (j)}k=d(k);if(k.length==0){throw (new usig.ErrorCalleInexistenteAEsaAltura(l.strCalles,c,l.strAltura))}}else{if(k.length==0&&c.length==0){l.quitarPasajes();c=i.matcheaCalle(l.strCalles);try{k=b(l,c,m)}catch(j){throw (j)}}}return k}function b(n,j,o){var c=new Array();var m=0;if(j.length!=0){for(var l=0;l<j.length;l++){try{if(j[l].alturaValida(n.strAltura)){c.push(new usig.Direccion(j[l],n.strAltura))}}catch(k){if(k instanceof usig.ErrorCalleSinAlturas&&g.aceptarCallesSinAlturas&&n.esAlturaSN(n.strAltura)){c.push(new usig.Direccion(j[l],0))}m++}if(!isNaN(parseInt(o))&&c.length>=parseInt(o)){break}}if(j.length==m&&c.length==0){throw (new usig.ErrorCalleSinAlturas(j[0].toString()))}}return c}function d(l,m){var k=m?m:"getCalle";var j=new Array();for(var c=0;c<l.length;c++){if(i.tieneTramosComoAv(l[c][k]())){j.push(l[c])}}return j}function f(x,w){var z=i.matcheaCalle(x.strCalles[0]);var y=i.matcheaCalle(x.strCalles[1]);var t=new Array();function u(A,j){return Math.min(A.codigo,j.codigo)+Math.max(A.codigo,j.codigo)}var c=new Array();for(var q=0;q<z.length;q++){for(var n=0;n<y.length;n++){if(z[q].codigo!=y[n].codigo&&t.indexOf(u(z[q],y[n]))<0&&z[q].seCruzaCon(y[n])&&y[n].seCruzaCon(z[q])){c.push(new usig.Direccion(z[q],y[n]));t.push(u(z[q],y[n]));if(!isNaN(parseInt(w))&&c.length>=parseInt(w)){break}}}if(!isNaN(parseInt(w))&&c.length>=parseInt(w)){break}}if(c.length==0&&z.length>0&&y.length>0){var s=x.strCalles[0].split(" ");var p=x.strCalles[1].split(" ");if(s.indexOf("AV")>=0||s.indexOf("AVDA")>=0||s.indexOf("AVENIDA")>=0){var r=$.extend(true,{},x);r.quitarAvsCalle();try{var m=f(r,w)}catch(v){throw (new usig.ErrorCruceInexistente(x.strCalles[0],z,x.strCalles[1],y))}d(m);if(m instanceof Array){return m}}if(p.indexOf("AV")>=0||p.indexOf("AVDA")>=0||p.indexOf("AVENIDA")>=0){var o=$.extend(true,{},x);o.quitarAvsCalleCruce();try{var l=f(o,w)}catch(v){throw (new usig.ErrorCruceInexistente(x.strCalles[0],z,x.strCalles[1],y))}d(l,"getCalleCruce");if(l instanceof Array){return l}}}if(c.length<w){var k=i.matcheaCalle(x.strInput);var q=0;while(c.length<w&&q<k.length){c.push(k[q]);q++}}if(c.length==0&&z.length>0&&y.length>0){throw (new usig.ErrorCruceInexistente(x.strCalles[0],z,x.strCalles[1],y))}return c}};usig.NormalizadorDirecciones.defaults={lazyDataLoad:false,aceptarCallesSinAlturas:false};